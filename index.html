<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Test Firebase</title>
    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
      import { getDatabase, ref, push, set, onValue } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-database.js";

      const firebaseConfig = {
        apiKey: "AIzaSyCReZ1Hs1p63Sq6DWODvwbKCgpVPUzVKQA",
        authDomain: "laporanharian-d689c.firebaseapp.com",
        databaseURL: "https://laporanharian-d689c-default-rtdb.firebaseio.com",
        projectId: "laporanharian-d689c",
        storageBucket: "laporanharian-d689c.appspot.com",
        messagingSenderId: "161606001787",
        appId: "1:161606001787:web:a2550a1abf208ce188aede",
        measurementId: "G-E9SL4RT4TB"
      };

      const app = initializeApp(firebaseConfig);
      const db = getDatabase(app);

      // Test simpan
      const laporanRef = ref(db, "laporan/test");
      const newData = push(laporanRef);
      set(newData, {
        laporan: "Tes laporan dari HTML",
        waktu: new Date().toISOString()
      });

      // Test baca realtime
      onValue(laporanRef, (snapshot) => {
        console.log("Isi data:", snapshot.val());
        document.body.innerHTML += "<pre>" + JSON.stringify(snapshot.val(), null, 2) + "</pre>";
      });
    </script>
  </head>
  <body>
    <h1>Coba Firebase</h1>
  </body>
</html>
